<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>留言板</title>
<style>
body {
    background-color: rgb(46, 73, 109);
    color: #ffffff;
}
.txtFileName {
    color: rgb(68, 0, 0);
    background-color: antiquewhite;
}

.txtFileContent {
    color: rgb(255, 255, 255);
    background-color: rgb(45, 33, 145);
    padding: 10px;
    word-break: break-all;
    white-space: pre-wrap; 
}

.greenBox {
    background-color: rgb(135, 135, 135);
    padding: 10px;
    margin-bottom: 10px;
}
</style>
</head>
<body>

<h3>静态留言板</h3>
<div id="embeddedTexts">
<!-- 在这里嵌入文本文件内容 -->
</div>

<script>
fetchTextFiles();

function fetchTextFiles() {
    const baseUrl = 'https://cvbnnnnnbvc.github.io/text/message/text/';
    const promises = [];
    
    for (let i = 0; i <= 100; i++) {
        const txtFile = `${baseUrl}${i}.txt`;
        promises.push(
            fetch(txtFile)
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        return Promise.reject(`文件 ${i}.txt 不存在`);
                    }
                })
                .then(text => {
                    return { fileName: `${i}.txt`, content: text };
                })
                .catch(error => {
                    console.error(error);
                    return null; // 如果文件不存在，则返回 null
                })
        );
    }
    
    Promise.all(promises)
        .then(contents => {
            const embeddedTexts = document.getElementById('embeddedTexts');
            contents.forEach(content => {
                if (content) {
                    const preElement = document.createElement('pre');
                    preElement.classList.add('greenBox'); 
                    preElement.innerHTML = `<span class="txtFileName">${content.fileName}:</span><br><div class="txtFileContent">${content.content}</div>`;
                    embeddedTexts.appendChild(preElement);
                }
            });
        })
        .catch(error => {
            console.error('获取文本文件内容时出错：', error);
        });
}
</script>
</body>
</html>
